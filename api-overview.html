
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>API Overview &#8212; Mininet-Optical  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Architecture Overview" href="architecture.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-overview">
<h1>API Overview<a class="headerlink" href="#api-overview" title="Permalink to this heading">¶</a></h1>
<p>This section provides an overview of the Python API and the
REST control API used in Mininet-Optical. We will discuss the
generation of a simple linear topology and its controller logic.</p>
<section id="python-api">
<h2>Python API<a class="headerlink" href="#python-api" title="Permalink to this heading">¶</a></h2>
<p>Mininet-Optical’s Python API extends the API from regular (packet)
Mininet. If you are unfamiliar with Mininet’s API, you may wish to
read the Introduction to Mininet at
<a class="reference external" href="http://docs.mininet.org">docs.mininet.org</a>.</p>
</section>
<section id="specifying-a-topology">
<h2>Specifying a Topology<a class="headerlink" href="#specifying-a-topology" title="Permalink to this heading">¶</a></h2>
<p>The Python API is used to define the network topology. On completion of
the following sets of commands, we will have a network that is ready
to be configured. We take the example of a simple topology that
looks like the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>h1 - t1 - (boost-&gt;) --25km-- (&lt;-boost) - t2 - h2
</pre></div>
</div>
<p>Let’s look at <code class="docutils literal notranslate"><span class="pre">examples/simplelink.py</span></code> to see how this is done.</p>
<p>Since Python follows an object-oriented programming approach, we need
to define a class named <code class="docutils literal notranslate"><span class="pre">SimpleLinkTopo</span></code> using the
statement. <code class="docutils literal notranslate"><span class="pre">SimpleLinkTopo</span></code> extends Mininet’s <code class="docutils literal notranslate"><span class="pre">Topo</span></code> class.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>class SimpleLinkTopo(Topo):
</pre></div>
</div>
<p>It is important to remember that we are creating a topology
template class. Instantiating this class will create a
topology template which we will pass to the <code class="docutils literal notranslate"><span class="pre">Mininet()</span></code>
constructor which will use it to build an emulated network
with the desired topology.</p>
<p>We need to define a function for building the topology.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def build(self):
</pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">build</span></code> function, we need to first define the hosts (h1 and
h2). We use the <code class="docutils literal notranslate"><span class="pre">addHost()</span></code> for this purpose.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Packet network elements
h1, h2 = self.addHost(&#39;h1&#39;), self.addHost(&#39;h2&#39;)
</pre></div>
</div>
<p>Thereafter, we need to build the optical elements. The terminals (<code class="docutils literal notranslate"><span class="pre">t1</span></code>
and <code class="docutils literal notranslate"><span class="pre">t2</span></code>) provide the interface between the Ethernet hosts (<code class="docutils literal notranslate"><span class="pre">h1</span></code> and <code class="docutils literal notranslate"><span class="pre">h2</span></code>) and
the optical network. Further, we need optical transceivers placed in
the terminals for transmitting and receiving the optical
signals. Therefore, first we define the transceivers as <code class="docutils literal notranslate"><span class="pre">params</span></code> and
then we place the transceivers in the terminals.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Optical network elements
params = {&#39;transceivers&#39;: [(&#39;tx1&#39;, 0*dBm,&#39;C&#39;)] }
t1 = self.addSwitch(&#39;t1&#39;, cls=Terminal, **params)
t2 = self.addSwitch(&#39;t2&#39;, cls=Terminal, **params)
</pre></div>
</div>
<p>Note that parameters are just data values that will be used later to
create the actual network emulator and simulator objects. In this
case, <code class="docutils literal notranslate"><span class="pre">params</span></code> specifies a <code class="docutils literal notranslate"><span class="pre">transceivers</span></code> parameter that consists
of a list of a single transceiver, <code class="docutils literal notranslate"><span class="pre">tx1</span></code>, with a default transmit
power of 0dBm (and on the <code class="docutils literal notranslate"><span class="pre">C</span></code> band though this parameter is optional
and currently ignored.) Note we are reusing the same set of parameters
for <code class="docutils literal notranslate"><span class="pre">t1</span></code> and <code class="docutils literal notranslate"><span class="pre">t2</span></code>, but this is OK since separate objects will be
created for them.</p>
<p>At this point, the network nodes are defined. All we need to do now is
to connect them together to form a working network. We connect
the hosts to the terminals using Ethernet links. We also connect the
terminals using a WDM link. This concludes the topology specification
in the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Ethernet links
self.addLink(h1, t1, port2=1)
self.addLink(h2, t2, port2=1)
# WDM links
self.addLink(t1, t2, cls=OpticalLink, port1=2, port2=2,
		boost=(&#39;boost&#39;, {&#39;target_gain&#39;:17*dB}),
		spans=[25*km])
</pre></div>
</div>
</section>
<section id="starting-mininet-optical">
<h2>Starting Mininet-Optical<a class="headerlink" href="#starting-mininet-optical" title="Permalink to this heading">¶</a></h2>
<p>Defining the topology isn’t enough to create the network itself.
In <code class="docutils literal notranslate"><span class="pre">examples/simplelink.py</span></code> this is handled in the <code class="docutils literal notranslate"><span class="pre">__main__</span></code>
section:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if __name__ == &#39;__main__&#39;:

    cleanup()  # Just in case!
    setLogLevel(&#39;info&#39;)
</pre></div>
</div>
<p>This cleans up any stale state and tells the logging system
to show informational messages as the emulation progresses.</p>
<p>Next, we instantiate our topology template and pass it as
the <code class="docutils literal notranslate"><span class="pre">topo</span></code> parameter to the <code class="docutils literal notranslate"><span class="pre">Mininet()</span></code> constructor.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>topo = SimpleLinkTopo()
net = Mininet(topo=topo)
</pre></div>
</div>
<p>Since we’re going to be using the REST control API, we start
a server for it.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>restServer = RestServer(net)
</pre></div>
</div>
<p>Next, we start up the emulated network as well as the REST server:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>net.start()
restServer.start()
</pre></div>
</div>
<p>For informational purposes, we print out the docstring from the
header of <code class="docutils literal notranslate"><span class="pre">simplelink.py</span></code></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>info(__doc__)
</pre></div>
</div>
<p>In this example we either run a test function (if the script is
invoked with the <code class="docutils literal notranslate"><span class="pre">test</span></code> parameter) or otherwise start the Mininet-
Optical CLI:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>test(net) if &#39;test&#39; in argv else CLI(net)
</pre></div>
</div>
<p>After the test is completed or the CLI exits, we halt the REST
server and shut down the emulated network:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>restServer.stop()
net.stop()
</pre></div>
</div>
</section>
<section id="rest-sdn-control-api">
<h2>REST SDN Control API<a class="headerlink" href="#rest-sdn-control-api" title="Permalink to this heading">¶</a></h2>
<p>After learning about the Python API and designing the simple linear
network in the process, we will now look into the control API. Once
the following set of commands are executed, the hosts (<code class="docutils literal notranslate"><span class="pre">h1</span></code> and <code class="docutils literal notranslate"><span class="pre">h2</span></code>)
in our linear topology will be able to communicate.</p>
<p>Note: For this tutorial we will use Mininet-Optical’s simple REST
control API. This is a simple control API created for Mininet-Optical
that can be used from the command line as well as from software.</p>
<p>We use the <code class="docutils literal notranslate"><span class="pre">curl</span></code> command for configuration of the network nodes. curl
is a command-line utility for transferring data from or to a server
using URL syntax.</p>
<p>First, we will set a base URL, which is the address of the local
machine. We need to identify this address as all the nodes defined are
built in the local host machine. The base URL is set as
<code class="docutils literal notranslate"><span class="pre">localhost:8080</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>url=&quot;localhost:8080&quot;; t1=$url; t2=$url; t3=$url; r1=$url
</pre></div>
</div>
<p>Next, we need to configure the terminals. Essectially, we set
the channels on which the terminal is set to operate. We also
<code class="docutils literal notranslate"><span class="pre">connect</span></code> the Ethernet and the WDM ports of the terminal as per our
routing requirements.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Configure Terminals:
	curl &quot;$t1/connect?node=t1&amp;ethPort=1&amp;wdmPort=2&amp;channel=1&quot;
	curl &quot;$t2/connect?node=t1&amp;ethPort=1&amp;wdmPort=2&amp;channel=1&quot;
</pre></div>
</div>
<p>Note that the parameters are passed as URLs, where a command such as
<code class="docutils literal notranslate"><span class="pre">connect</span></code> is followed by <code class="docutils literal notranslate"><span class="pre">?</span></code> and a list of parameters of the form
<code class="docutils literal notranslate"><span class="pre">param=x</span></code> separated by <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> signs.</p>
<p>The next step is to turn on the terminals.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Turning Terminals on:
	curl &quot;$t1/turn_on?node=t1&quot;
	curl &quot;$t2/turn_on?node=t2&quot;
</pre></div>
</div>
<p>(Not for this network, but in general:) If a ROADM is present in the
network topology, we need to first reset the ROADM and then install
the switching logic. The rest is done to ensure that any previous
switching rule is removed.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Reset a ROADM:
	curl &quot;$r1/reset?node=r1&quot;
            
Add a ROADM switching rule:
	curl &quot;$r1/connect?node=r1&amp;port1=1&amp;port2=2&amp;channels=1&quot;
</pre></div>
</div>
<p>(Not for this network, but in general:) If desired, we set the
monitors. The monitors do not aid in the routing of the
network. However, they are useful for analysis and debugging
purposes, and they allow network controllers to monitor signals
in the network.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Monitor a signal:
	curl &quot;$t1/monitor?monitor=t1-monitor&quot;
</pre></div>
</div>
<p>We hope this overview of the REST API has been useful.
Please check the <code class="docutils literal notranslate"><span class="pre">rest.py</span></code> module for the complete API.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Mininet-Optical</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Welcome to Mininet-Optical</a></li>
<li class="toctree-l1"><a class="reference internal" href="walkthrough.html">Installation and Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python-api">Python API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specifying-a-topology">Specifying a Topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-mininet-optical">Starting Mininet-Optical</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rest-sdn-control-api">REST SDN Control API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="architecture.html" title="previous chapter">Architecture Overview</a></li>
      <li>Next: <a href="tutorial.html" title="next chapter">Tutorial</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Mininet-Optical Project.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/api-overview.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>